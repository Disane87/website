<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Amazon Web Services · Verdaccio</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="This document describes simple steps to setup Verdaccio private registry on Amazon Web Services platform using EC2 service. Considering you already created EC2 Amazon Linux instance, if not then please check this tutorial [AWS EC2 Setup](https://www.howtoinmagento.com/2018/04/aws-cli-commands-for-aws-ec2-amazon.html)."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Amazon Web Services · Verdaccio"/><meta property="og:type" content="website"/><meta property="og:url" content="https://verdaccio.org//"/><meta property="og:description" content="This document describes simple steps to setup Verdaccio private registry on Amazon Web Services platform using EC2 service. Considering you already created EC2 Amazon Linux instance, if not then please check this tutorial [AWS EC2 Setup](https://www.howtoinmagento.com/2018/04/aws-cli-commands-for-aws-ec2-amazon.html)."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><link rel="alternate" type="application/atom+xml" href="https://verdaccio.org/blog/atom.xml" title="Verdaccio Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://verdaccio.org/blog/feed.xml" title="Verdaccio Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-2527438-21', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="/css/code-blocks-buttons.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script><script type="text/javascript" src="https://browser.sentry-cdn.com/5.15.5/bundle.min.js"></script><script type="text/javascript" src="/js/error.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/tagManager.js"></script><script type="text/javascript" src="/js/code-blocks-buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><img class="logo" src="/img/logo/symbol/svg/verdaccio-tiny.svg" alt="Verdaccio"/><h2 class="headerTitleWithLogo">Verdaccio</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/en/installation" target="_self">Docs</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><li class=""><a href="https://twitter.com/verdaccio_npm" target="_self">Twitter</a></li><li class=""><a href="/en/help" target="_self">Help</a></li><li class=""><a href="https://github.com/verdaccio" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="/en/team" target="_self">Team</a></li><li class=""><a href="https://opencollective.com/verdaccio" target="_self">Sponsor Us</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/es-ES/aws">Español</a></li><li><a href="/docs/fr-FR/aws">Français</a></li><li><a href="/docs/zh-CN/aws">中文</a></li><li><a href="/docs/ru-RU/aws">Russian</a></li><li><a href="/docs/yo-NG/aws">Yoruba</a></li><li><a href="https://translate.verdaccio.org" target="_blank" rel="noreferrer noopener">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Amazon Web Services</h1></header><article><div><span><p>This document describes simple steps to setup Verdaccio private registry on Amazon Web Services platform using EC2 service. Considering you already created EC2 Amazon Linux instance, if not then please check this tutorial <a href="https://www.howtoinmagento.com/2018/04/aws-cli-commands-for-aws-ec2-amazon.html">AWS EC2 Setup</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="setup--configuration"></a><a href="#setup--configuration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup &amp; Configuration</h2>
<p><strong>Step 1:</strong> Open SSH &amp; Login in using your EC2 key.</p>
<p><strong>Step 2:</strong> Install Node Version Manager (nvm) first</p>
<pre><code class="hljs">wget -qO- https:<span class="hljs-regexp">//</span>raw.githubusercontent.com<span class="hljs-regexp">/creationix/</span>nvm<span class="hljs-regexp">/v0.33.11/i</span>nstall.sh | bash
</code></pre>
<p><strong>Step 3:</strong> Install Node using Node Version Manager (nvm)</p>
<p><code>nvm install node</code></p>
<p><strong>Step 4:</strong> Install Verdaccio &amp; pm2, will require to run Verdaccio service in background</p>
<p><code>yaml npm i -g verdaccio pm2</code></p>
<p><strong>Step 5:</strong> Set the verdaccio registry as a source. By default original NPM registry set.</p>
<p><code>npm set registry http://localhost:4873</code></p>
<p><code>npm set ca null</code></p>
<p><strong>Step 6:</strong> Run Verdaccio and stop it. It will create a config file we will use.</p>
<p><code>verdaccio</code></p>
<p><strong>Step 7:</strong> Now do below configuration for listening to all addresses on that server machine / EC2 instance. <a href="https://github.com/verdaccio/verdaccio/blob/master/conf/full.yaml">(read more)</a></p>
<p>Open and edit <code>config.yaml</code> file:</p>
<p><code>nano .config/verdaccio/config.yaml</code></p>
<p>Add below lines at the end. <a href="https://github.com/verdaccio/verdaccio/blob/ff409ab7c05542a152100e3bc39cfadb36a8a080/conf/full.yaml#L113">(read more)</a></p>
<pre><code class="hljs css language-yaml listen:"> <span class="hljs-bullet">-</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">:4873</span>
</code></pre>
<p>Change below line so that only authenticated person can access our registry</p>
<p><code>Replace &quot;access: $all&quot; with &quot;access: $authenticated&quot;</code></p>
<p>There are some more parameters available to configure it. Like storage, proxy, default port change. <a href="https://github.com/verdaccio/verdaccio/blob/ff409ab7c05542a152100e3bc39cfadb36a8a080/conf/full.yaml#L113">(read more)</a></p>
<p><strong>Step 8:</strong> Run Verdaccio in background using PM2:</p>
<p><code>pm2 start verdaccio</code></p>
<p><strong>Step 9:</strong> Now, You can access your Verdaccio web UI.</p>
<p>The URL will look like something:</p>
<p><code>http://ec2-..compute.amazonaws.com:4873</code></p>
<p>{or}</p>
<p><code>http://your-ec2-public-ip-address:4873 (You can check your EC2 instance public ip from AWS console)</code></p>
<p>To confirm verdaccio running status, run the command below</p>
<p><code>pm2 list</code></p>
<p><strong>Step 10:</strong> Registering a user in verdaccio registry</p>
<p><code>npm set always-auth true</code></p>
<p><code>npm adduser</code></p>
<p>It will ask for username, password and valid email id to be entered. Make a note of this details that will use later to login in verdaccio registry to publish our library.</p>
<p><strong>Step 11:</strong> Now we are ready to use our AWS server instance work as a private registry.</p>
<p>Login into verdaccio registry. Enter the same username, password and email id set in above Step.</p>
<p><code>npm set registry http://your-ec2-public-ip-address:4873</code></p>
<p><code>npm login</code></p>
<p><strong>Step 12:</strong> Go to your custom library package path. In my case this is my Angular 7 package path -&gt; <code>/libraries/dist/your-library-name/your-library-name-0.0.1.tgz</code></p>
<p>If you like to know how to create angular 7 library/package then <a href="https://www.howtoinmagento.com/2019/11/how-to-create-your-first-angular-7.html">(click here)</a></p>
<p><code>cd [custom library package path]</code></p>
<p><strong>Step 13:</strong> Finally publish our library <code>your-library-name-0.0.1.tgz</code> on verdaccio registry</p>
<p><code>[custom library package path] &gt;&gt; npm publish your-library-name-0.0.1.tgz</code></p>
<p>{or}</p>
<p><code>[custom library package path] &gt;&gt; npm publish</code></p>
<p>{or}</p>
<p><code>[custom library package path] &gt;&gt; npm publish --registry http://your-ec2-public-ip-address:4873</code></p>
<p>Now browse  <code>http://your-ec2-public-ip-address:4873</code> and you will see new library package there.</p>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#setup--configuration">Setup &amp; Configuration</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo/symbol/svg/verdaccio-blackwhite.svg" alt="Verdaccio" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/what-is-verdaccio.html">Getting Started</a><a href="/docs/en/docker.html">Docker</a><a href="/docs/en/configuration.html">Configuration</a><a href="/docs/en/logo">Logos</a></div><div><h5>Community</h5><a href="/en/users.html">User Showcase</a><a href="https://stackoverflow.com/search?q=verdaccio" target="_blank">Stack Overflow</a><a href="http://chat.verdaccio.org" target="_blank">Project Chat</a><a href="https://twitter.com/verdaccio_npm" target="_blank"><img alt="Follow Verdaccio on Twitter" src="https://img.shields.io/twitter/follow/verdaccio_npm.svg?label=Follow+Verdaccio&amp;style=social"/></a></div><div><h5>More</h5><a href="https://medium.com/verdaccio" target="_blank">Blog</a><a href="https://github.com/verdaccio" target="_blank">GitHub</a><a class="github-button" href="https://github.com/verdaccio/verdaccio" data-icon="octicon-star" data-count-href="/verdaccio/verdaccio/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'a8b4d117e513cd8d71d6a95e3d9d4a91',
                indexName: 'verdaccio',
                inputSelector: '#search_input_react'
              });
            </script></body></html>